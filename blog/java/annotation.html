<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>java中的注解 | aoaojiao.club-Blog</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/blog/favicon.ico">
    <link rel="manifest" href="/blog/manifest.json">
    <link rel="apple-touch-icon" href="favicon.ico">
    <meta name="description" content="ZJP-技术文档">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
    
    <link rel="preload" href="/blog/assets/css/0.styles.4e9be677.css" as="style"><link rel="preload" href="/blog/assets/js/app.ada06fba.js" as="script"><link rel="preload" href="/blog/assets/js/2.e4e06633.js" as="script"><link rel="preload" href="/blog/assets/js/60.971cf20c.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.b44381ec.js"><link rel="prefetch" href="/blog/assets/js/11.96047b39.js"><link rel="prefetch" href="/blog/assets/js/12.b06d215e.js"><link rel="prefetch" href="/blog/assets/js/13.925990ab.js"><link rel="prefetch" href="/blog/assets/js/14.aae5da84.js"><link rel="prefetch" href="/blog/assets/js/15.dd39c0b7.js"><link rel="prefetch" href="/blog/assets/js/16.c6a5a312.js"><link rel="prefetch" href="/blog/assets/js/17.17911c76.js"><link rel="prefetch" href="/blog/assets/js/18.60227b93.js"><link rel="prefetch" href="/blog/assets/js/19.c207f5ac.js"><link rel="prefetch" href="/blog/assets/js/20.30f420af.js"><link rel="prefetch" href="/blog/assets/js/21.92b11a5a.js"><link rel="prefetch" href="/blog/assets/js/22.793dce18.js"><link rel="prefetch" href="/blog/assets/js/23.dd357936.js"><link rel="prefetch" href="/blog/assets/js/24.3f9c22ef.js"><link rel="prefetch" href="/blog/assets/js/25.b1f0d412.js"><link rel="prefetch" href="/blog/assets/js/26.044664ab.js"><link rel="prefetch" href="/blog/assets/js/27.c597da96.js"><link rel="prefetch" href="/blog/assets/js/28.43547542.js"><link rel="prefetch" href="/blog/assets/js/29.d5f4a216.js"><link rel="prefetch" href="/blog/assets/js/3.0ef386da.js"><link rel="prefetch" href="/blog/assets/js/30.2068ad4c.js"><link rel="prefetch" href="/blog/assets/js/31.bfef4f04.js"><link rel="prefetch" href="/blog/assets/js/32.cd78133e.js"><link rel="prefetch" href="/blog/assets/js/33.6fffd869.js"><link rel="prefetch" href="/blog/assets/js/34.beb8267a.js"><link rel="prefetch" href="/blog/assets/js/35.c7500995.js"><link rel="prefetch" href="/blog/assets/js/36.fb53fbe1.js"><link rel="prefetch" href="/blog/assets/js/37.12fdd347.js"><link rel="prefetch" href="/blog/assets/js/38.f08e0a39.js"><link rel="prefetch" href="/blog/assets/js/39.cf4329e0.js"><link rel="prefetch" href="/blog/assets/js/4.00240054.js"><link rel="prefetch" href="/blog/assets/js/40.a625b717.js"><link rel="prefetch" href="/blog/assets/js/41.bc7bce71.js"><link rel="prefetch" href="/blog/assets/js/42.3288c24d.js"><link rel="prefetch" href="/blog/assets/js/43.324b9ecc.js"><link rel="prefetch" href="/blog/assets/js/44.9528e9cf.js"><link rel="prefetch" href="/blog/assets/js/45.ccbab011.js"><link rel="prefetch" href="/blog/assets/js/46.8ef6ae09.js"><link rel="prefetch" href="/blog/assets/js/47.8763356f.js"><link rel="prefetch" href="/blog/assets/js/48.0453feb4.js"><link rel="prefetch" href="/blog/assets/js/49.ce2cfbd8.js"><link rel="prefetch" href="/blog/assets/js/5.218ae950.js"><link rel="prefetch" href="/blog/assets/js/50.1512eace.js"><link rel="prefetch" href="/blog/assets/js/51.f9ff9fca.js"><link rel="prefetch" href="/blog/assets/js/52.945bf0f4.js"><link rel="prefetch" href="/blog/assets/js/53.61dbad1e.js"><link rel="prefetch" href="/blog/assets/js/54.e53d0f31.js"><link rel="prefetch" href="/blog/assets/js/55.90cff60b.js"><link rel="prefetch" href="/blog/assets/js/56.7b09274f.js"><link rel="prefetch" href="/blog/assets/js/57.070d9809.js"><link rel="prefetch" href="/blog/assets/js/58.061a9b7a.js"><link rel="prefetch" href="/blog/assets/js/59.5ed00b69.js"><link rel="prefetch" href="/blog/assets/js/6.34af906c.js"><link rel="prefetch" href="/blog/assets/js/61.f5e39463.js"><link rel="prefetch" href="/blog/assets/js/62.ed3e44ff.js"><link rel="prefetch" href="/blog/assets/js/63.eb36cc6c.js"><link rel="prefetch" href="/blog/assets/js/64.0efdc9e1.js"><link rel="prefetch" href="/blog/assets/js/65.666b1c5e.js"><link rel="prefetch" href="/blog/assets/js/66.d421542e.js"><link rel="prefetch" href="/blog/assets/js/67.72124649.js"><link rel="prefetch" href="/blog/assets/js/68.8c6bf4e6.js"><link rel="prefetch" href="/blog/assets/js/69.6ce63e40.js"><link rel="prefetch" href="/blog/assets/js/7.87004ae6.js"><link rel="prefetch" href="/blog/assets/js/70.891a40f7.js"><link rel="prefetch" href="/blog/assets/js/71.76b9ff49.js"><link rel="prefetch" href="/blog/assets/js/72.4ab72c64.js"><link rel="prefetch" href="/blog/assets/js/8.19700376.js"><link rel="prefetch" href="/blog/assets/js/9.208d4e82.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.4e9be677.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">aoaojiao.club-Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/" class="nav-link router-link-active">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/blog/dataBase/" class="nav-link">
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/" class="nav-link">
  Web
</a></li><li class="dropdown-item"><!----> <a href="/blog/algorithm/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/" class="nav-link">
  其他
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/zhangjunp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/" class="nav-link router-link-active">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/blog/dataBase/" class="nav-link">
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/blog/web/" class="nav-link">
  Web
</a></li><li class="dropdown-item"><!----> <a href="/blog/algorithm/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/" class="nav-link">
  其他
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/zhangjunp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/java/" aria-current="page" class="sidebar-link">ToBeContinue</a></li><li><a href="/blog/java/javaGenerics.html" class="sidebar-link">java泛型</a></li><li><a href="/blog/java/annotation.html" aria-current="page" class="active sidebar-link">java中的注解</a></li><li><a href="/blog/java/classLoader.html" class="sidebar-link">java的类加载</a></li><li><a href="/blog/java/gc.html" class="sidebar-link">java的自动内存管理</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="java中的注解"><a href="#java中的注解" class="header-anchor">#</a> java中的注解</h1> <h4 id="什么是java注解"><a href="#什么是java注解" class="header-anchor">#</a> 什么是java注解？</h4> <p>​		老样子 写在前边，原始文档参考oracle JDK文档：<a href="https://docs.oracle.com/javase/tutorial/java/annotations/index.html" target="_blank" rel="noopener noreferrer">注释学习<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>​        定义： <em>注解</em>是元数据的一种形式，它提供有关程序的数据，而该数据不属于程序本身。注释对其注释的代码的操作没有直接影响。注释有多种用途，其中包括：</p> <ul><li><strong>供编译器</strong>使用的<strong>信息</strong>-<strong>编译器</strong>可以使用注释来检测错误或禁止显示警告。</li> <li><strong>编译时和部署时处理</strong>-软件工具可以处理注释信息以生成代码，XML文件等。</li> <li><strong>运行时处理</strong>-在运行时可以检查一些注释。</li></ul> <h4 id="注解基础"><a href="#注解基础" class="header-anchor">#</a> 注解基础</h4> <h5 id="注解的格式"><a href="#注解的格式" class="header-anchor">#</a> 注解的格式</h5> <p>​			以最简单的形式，注释如下所示：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 简单的说符号字符（@）向编译器指示后面是注释。</span>
<span class="token annotation punctuation">@Entity</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">void</span> <span class="token function">mySuperMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">void</span> <span class="token function">mySuperMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token annotation punctuation">@Author</span><span class="token punctuation">(</span>
   name <span class="token operator">=</span> <span class="token string">&quot;Benjamin Franklin&quot;</span><span class="token punctuation">,</span>
   date <span class="token operator">=</span> <span class="token string">&quot;3/27/2003&quot;</span>
<span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>


<span class="token annotation punctuation">@Author</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;Jane Doe&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@EBook</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token comment">// 需要注意 从Java SE 8版本开始，支持重复注释。有关更多信息，请参见 重复注释。</span>
<span class="token annotation punctuation">@Author</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;Jane Doe&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Author</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;John Smith&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div><p><strong>从Java SE 8版本开始，支持重复注释。有关更多信息，请参见 <a href="https://docs.oracle.com/javase/tutorial/java/annotations/repeating.html" target="_blank" rel="noopener noreferrer">重复注释<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</strong></p> <p>注释类型可以是Java SE API<code>java.lang</code>或<code>java.lang.annotation</code>包中定义的类型之一。在前面的示例中，<code>Override</code>和<code>SuppressWarnings</code>是 <a href="https://docs.oracle.com/javase/tutorial/java/annotations/predefined.html" target="_blank" rel="noopener noreferrer">预定义的Java批注<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。也可以定义自己的注释类型。上一个示例中的<code>Author</code>和<code>Ebook</code>注释是自定义注释类型。</p> <h5 id="可以在哪里使用注释"><a href="#可以在哪里使用注释" class="header-anchor">#</a> 可以在哪里使用注释</h5> <p>​	注释可以应用于声明：类，字段，方法和其他程序元素的声明。当在声明上使用时，每个注释通常会按照惯例出现在自己的行上。</p> <p>​	从Java SE 8发行版开始，注释也可以应用于类型的<em>使用</em>。这里有些例子：</p> <ul><li><p>类实例创建表达式：</p> <div class="language-java extra-class"><pre class="language-java"><code>     <span class="token keyword">new</span> <span class="token annotation punctuation">@Interned</span> <span class="token class-name">MyObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>类型转换：</p> <div class="language-java extra-class"><pre class="language-java"><code>     myString <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">String</span><span class="token punctuation">)</span> str<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>实现上：</p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token keyword">class</span> <span class="token class-name">UnmodifiableList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span>
        <span class="token annotation punctuation">@Readonly</span> <span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token annotation punctuation">@Readonly</span> <span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>引发异常声明：</p> <div class="language-java extra-class"><pre class="language-java"><code>     <span class="token keyword">void</span> <span class="token function">monitorTemperature</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span>
        <span class="token annotation punctuation">@Critical</span> <span class="token class-name">TemperatureException</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div></li></ul> <h4 id="注释的声明"><a href="#注释的声明" class="header-anchor">#</a> 注释的声明</h4> <p>​	要使用注释添加相同的元数据，必须首先定义<em>注释类型</em>。这样做的语法是：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@interface</span> <span class="token class-name">ClassPreamble</span> <span class="token punctuation">{</span>
   <span class="token class-name">String</span> <span class="token function">author</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">String</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> <span class="token function">currentRevision</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">1</span><span class="token punctuation">;</span>
   <span class="token class-name">String</span> <span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;N/A&quot;</span><span class="token punctuation">;</span>
   <span class="token class-name">String</span> <span class="token function">lastModifiedBy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;N/A&quot;</span><span class="token punctuation">;</span>
   <span class="token comment">// Note use of array</span>
   <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">reviewers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>注释类型定义看起来与接口定义相似，在接口定义中，关键字<code>interface</code>前面带有at符号（<code>@</code>）（@ = AT，与注释类型相同）。注释类型是<em>interface的</em>一种形式。</p> <p>先前的注释定义的主体包含<em>注释类型元素</em>声明，它们看起来很像方法。请注意，它们可以定义可选的默认值。</p> <h4 id="适用于其他注释的注释"><a href="#适用于其他注释的注释" class="header-anchor">#</a> 适用于其他注释的注释</h4> <p>适用于其他注释的注释称为<em>元注释</em>。中定义了几种元注释类型<code>java.lang.annotation</code>。</p> <p><strong>@Retention</strong> <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html" target="_blank" rel="noopener noreferrer"><code>@Retention</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>注释指定标记的注释的存储方式：</p> <ul><li><p><code>RetentionPolicy.SOURCE</code> –标记的注释仅保留在源级别中，并且被编译器忽略。</p></li> <li><p><code>RetentionPolicy.CLASS</code> –标记的注释在编译时由编译器保留，但被Java虚拟机（JVM）忽略。</p></li> <li><p><code>RetentionPolicy.RUNTIME</code> –标记的注释由JVM保留，因此可以由运行时环境使用。</p></li></ul> <p><strong>@Documented</strong> <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Documented.html" target="_blank" rel="noopener noreferrer"><code>@Documented</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>注释表示，每当使用指定的注释时，都应使用Javadoc工具记录这些元素。（默认情况下，Javadoc中不包含注释。）有关更多信息，请参见 <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/javadoc/index.html" target="_blank" rel="noopener noreferrer">Javadoc工具页面<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p><strong>@Target</strong> <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html" target="_blank" rel="noopener noreferrer"><code>@Target</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>批注标记了另一个批注，以限制该批注可以应用于哪种Java元素。目标注释将以下元素类型之一指定为其值：</p> <ul><li><code>ElementType.ANNOTATION_TYPE</code> 可以应用于注释类型。</li> <li><code>ElementType.CONSTRUCTOR</code> 可以应用于构造函数。</li> <li><code>ElementType.FIELD</code> 可以应用于字段或属性。</li> <li><code>ElementType.LOCAL_VARIABLE</code> 可以应用于局部变量。</li> <li><code>ElementType.METHOD</code> 可以应用于方法级注释。</li> <li><code>ElementType.PACKAGE</code> 可以应用于包声明。</li> <li><code>ElementType.PARAMETER</code> 可以应用于方法的参数。</li> <li><code>ElementType.TYPE</code> 可以应用于类的任何元素。</li> <li></li></ul> <p><strong>@Inherited</strong> <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Inherited.html" target="_blank" rel="noopener noreferrer"><code>@Inherited</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>注解表示可以从超类继承注解类型。（默认情况下，这是不正确的。）当用户查询注释类型并且类没有该类型的注释时，将查询该类的超类作为注释类型。该注释仅适用于类声明。</p> <p><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Repeatable.html" target="_blank" rel="noopener noreferrer"><code>@Repeatable</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>Java SE 8中引入的**@Repeatable**注释表示可以将标记的注释多次应用于同一声明或类型使用。有关更多信息，请参见 <a href="https://docs.oracle.com/javase/tutorial/java/annotations/repeating.html" target="_blank" rel="noopener noreferrer">重复注释<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h4 id="类型注释和可插入类型系统"><a href="#类型注释和可插入类型系统" class="header-anchor">#</a> 类型注释和可插入类型系统</h4> <p>在Java SE 8发行版之前，注释只能应用于声明。从Java SE 8发行版开始，注释也可以应用于任何<em>type use</em>。这意味着注释可以在使用类型的任何地方使用。使用类型的一些示例是类实例创建表达式（<code>new</code>），强制类型转换，<code>implements</code>子句和<code>throws</code>子句。这种形式的注释称为<em>类型注释</em>，“<a href="https://docs.oracle.com/javase/tutorial/java/annotations/basics.html" target="_blank" rel="noopener noreferrer">注释基础”<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中提供了几个示例 。</p> <p>创建类型注释以支持对Java程序的改进分析，以确保更强的类型检查。Java SE 8发行版不提供类型检查框架，但允许您编写（或下载）类型检查框架，该框架被实现为与Java编译器结合使用的一个或多个可插拔模块。</p> <p>例如，您要确保程序中的特定变量永远不会被分配为null。您要避免触发<code>NullPointerException</code>。您可以编写一个自定义插件进行检查。然后，您将修改代码以注释该特定变量，指示该变量从未分配为null。变量声明可能如下所示：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">String</span> str<span class="token punctuation">;</span>
</code></pre></div><p>当您编译代码（包括<code>NonNull</code>命令行中的模块）时，如果编译器检测到潜在问题，则会打印一条警告，允许您修改代码以避免错误。您更正代码以删除所有警告后，程序运行时将不会发生此特定错误。</p> <p>您可以使用多个类型检查模块，其中每个模块检查不同类型的错误。这样，您可以在Java类型系统之上构建，在需要的时间和位置添加特定的检查。</p> <p>通过明智地使用类型注释和可插入类型检查器，您可以编写更强大且更不易出错的代码。</p> <p>在许多情况下，您不必编写自己的类型检查模块。有第三方为您完成了工作。例如，您可能想利用华盛顿大学创建的Checker框架。该框架包括一个<code>NonNull</code>模块，一个正则表达式模块以及一个互斥锁模块。有关更多信息，请参见 <a href="http://types.cs.washington.edu/checker-framework/" target="_blank" rel="noopener noreferrer">Checker Framework<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h4 id="重复注释"><a href="#重复注释" class="header-anchor">#</a> 重复注释</h4> <p>重复注视是javaSE 1.8后支持的特性；</p> <p>使用规则：</p> <p>​	step1: 注释类型必须标记为<code>@Repeatable</code>元注释。以下示例定义了一个自定义的<code>@Schedule</code>可重复注释类型：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Repeatable</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Repeatable</span><span class="token punctuation">(</span><span class="token class-name">Schedules</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Schedule</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span> <span class="token function">dayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;first&quot;</span><span class="token punctuation">;</span>
  <span class="token class-name">String</span> <span class="token function">dayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;Mon&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> <span class="token function">hour</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">12</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>​	Step 2: 声明 Containing Annotation Type</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Schedules</span> <span class="token punctuation">{</span>
    <span class="token class-name">Schedule</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>​	Reflection API（java反射api）中有几种可用的方法可用于检索注解。</p> <p>​	返回单个注释的方法的行为，例如 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AnnotatedElement.html#getAnnotation-java.lang.Class-" target="_blank" rel="noopener noreferrer">AnnotatedElement.getAnnotation（Class ）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，没有改变，因为它们仅在存在所请求类型的<em>一个</em>注释时才返回单个注释。</p> <p>​	如果存在多个所请求类型的注释，则可以通过首先获取其容器注释来获取它们。这样，旧代码将继续起作用。Java SE 8中引入了其他方法，这些方法可扫描容器注释以一次返回多个注释，例如 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AnnotatedElement.html#getAnnotationsByType-java.lang.Class-" target="_blank" rel="noopener noreferrer">AnnotatedElement.getAnnotationsByType（Class ）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。参见 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AnnotatedElement.html" target="_blank" rel="noopener noreferrer">AnnotatedElement<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 有关所有可用方法的信息的类规范。</p> <h4 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h4> <p>​   注释（annotations）：Java 从1.5开始提供了 Annotation （注释，标注），它用来修饰应用程序的元素（类，方法，参数，本地变量，包、元数据），编译器将其与元数据一同存储在 class 文件中，
运行期间通过 Java 的反射来处理对其修饰元素的访问。Annotation 仅仅用来修饰元素，而不能影响代码的执行。只有通过其配套的框架或工具才能对其信息进行访问和处理。</p> <p>而@interface 是用来修饰 Annotation 的，请注意，它不是 interface。这个关键字声明隐含了一个信息：它是继承了 java.lang.annotation.Annotation 接口，而不是声明了一个 interface。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/29/2020, 3:09:22 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/java/javaGenerics.html" class="prev">
        java泛型
      </a></span> <span class="next"><a href="/blog/java/classLoader.html">
        java的类加载
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.ada06fba.js" defer></script><script src="/blog/assets/js/2.e4e06633.js" defer></script><script src="/blog/assets/js/60.971cf20c.js" defer></script>
  </body>
</html>
