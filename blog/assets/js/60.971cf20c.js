(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{419:function(t,a,n){"use strict";n.r(a);var s=n(42),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"java中的注解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#java中的注解"}},[t._v("#")]),t._v(" java中的注解")]),t._v(" "),n("h4",{attrs:{id:"什么是java注解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#什么是java注解"}},[t._v("#")]),t._v(" 什么是java注解？")]),t._v(" "),n("p",[t._v("​\t\t老样子 写在前边，原始文档参考oracle JDK文档："),n("a",{attrs:{href:"https://docs.oracle.com/javase/tutorial/java/annotations/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("注释学习"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("​        定义： "),n("em",[t._v("注解")]),t._v("是元数据的一种形式，它提供有关程序的数据，而该数据不属于程序本身。注释对其注释的代码的操作没有直接影响。注释有多种用途，其中包括：")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("供编译器")]),t._v("使用的"),n("strong",[t._v("信息")]),t._v("-"),n("strong",[t._v("编译器")]),t._v("可以使用注释来检测错误或禁止显示警告。")]),t._v(" "),n("li",[n("strong",[t._v("编译时和部署时处理")]),t._v("-软件工具可以处理注释信息以生成代码，XML文件等。")]),t._v(" "),n("li",[n("strong",[t._v("运行时处理")]),t._v("-在运行时可以检查一些注释。")])]),t._v(" "),n("h4",{attrs:{id:"注解基础"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#注解基础"}},[t._v("#")]),t._v(" 注解基础")]),t._v(" "),n("h5",{attrs:{id:"注解的格式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#注解的格式"}},[t._v("#")]),t._v(" 注解的格式")]),t._v(" "),n("p",[t._v("​\t\t\t以最简单的形式，注释如下所示：")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 简单的说符号字符（@）向编译器指示后面是注释。")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Entity")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mySuperMethod")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mySuperMethod")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Author")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n   name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Benjamin Franklin"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   date "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3/27/2003"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyClass")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Author")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Jane Doe"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@EBook")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyClass")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要注意 从Java SE 8版本开始，支持重复注释。有关更多信息，请参见 重复注释。")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Author")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Jane Doe"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Author")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"John Smith"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyClass")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("strong",[t._v("从Java SE 8版本开始，支持重复注释。有关更多信息，请参见 "),n("a",{attrs:{href:"https://docs.oracle.com/javase/tutorial/java/annotations/repeating.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("重复注释"),n("OutboundLink")],1),t._v("。")])]),t._v(" "),n("p",[t._v("注释类型可以是Java SE API"),n("code",[t._v("java.lang")]),t._v("或"),n("code",[t._v("java.lang.annotation")]),t._v("包中定义的类型之一。在前面的示例中，"),n("code",[t._v("Override")]),t._v("和"),n("code",[t._v("SuppressWarnings")]),t._v("是 "),n("a",{attrs:{href:"https://docs.oracle.com/javase/tutorial/java/annotations/predefined.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("预定义的Java批注"),n("OutboundLink")],1),t._v("。也可以定义自己的注释类型。上一个示例中的"),n("code",[t._v("Author")]),t._v("和"),n("code",[t._v("Ebook")]),t._v("注释是自定义注释类型。")]),t._v(" "),n("h5",{attrs:{id:"可以在哪里使用注释"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#可以在哪里使用注释"}},[t._v("#")]),t._v(" 可以在哪里使用注释")]),t._v(" "),n("p",[t._v("​\t注释可以应用于声明：类，字段，方法和其他程序元素的声明。当在声明上使用时，每个注释通常会按照惯例出现在自己的行上。")]),t._v(" "),n("p",[t._v("​\t从Java SE 8发行版开始，注释也可以应用于类型的"),n("em",[t._v("使用")]),t._v("。这里有些例子：")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("类实例创建表达式：")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[t._v("     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Interned")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyObject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("类型转换：")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[t._v("     myString "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@NonNull")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" str"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("实现上：")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[t._v("    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UnmodifiableList")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Readonly")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Readonly")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("引发异常声明：")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[t._v("     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("monitorTemperature")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Critical")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TemperatureException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),n("h4",{attrs:{id:"注释的声明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#注释的声明"}},[t._v("#")]),t._v(" 注释的声明")]),t._v(" "),n("p",[t._v("​\t要使用注释添加相同的元数据，必须首先定义"),n("em",[t._v("注释类型")]),t._v("。这样做的语法是：")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@interface")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassPreamble")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("author")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("currentRevision")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("lastModified")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"N/A"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("lastModifiedBy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"N/A"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Note use of array")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("reviewers")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("注释类型定义看起来与接口定义相似，在接口定义中，关键字"),n("code",[t._v("interface")]),t._v("前面带有at符号（"),n("code",[t._v("@")]),t._v("）（@ = AT，与注释类型相同）。注释类型是"),n("em",[t._v("interface的")]),t._v("一种形式。")]),t._v(" "),n("p",[t._v("先前的注释定义的主体包含"),n("em",[t._v("注释类型元素")]),t._v("声明，它们看起来很像方法。请注意，它们可以定义可选的默认值。")]),t._v(" "),n("h4",{attrs:{id:"适用于其他注释的注释"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#适用于其他注释的注释"}},[t._v("#")]),t._v(" 适用于其他注释的注释")]),t._v(" "),n("p",[t._v("适用于其他注释的注释称为"),n("em",[t._v("元注释")]),t._v("。中定义了几种元注释类型"),n("code",[t._v("java.lang.annotation")]),t._v("。")]),t._v(" "),n("p",[n("strong",[t._v("@Retention")]),t._v(" "),n("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("@Retention")]),n("OutboundLink")],1),t._v("注释指定标记的注释的存储方式：")]),t._v(" "),n("ul",[n("li",[n("p",[n("code",[t._v("RetentionPolicy.SOURCE")]),t._v(" –标记的注释仅保留在源级别中，并且被编译器忽略。")])]),t._v(" "),n("li",[n("p",[n("code",[t._v("RetentionPolicy.CLASS")]),t._v(" –标记的注释在编译时由编译器保留，但被Java虚拟机（JVM）忽略。")])]),t._v(" "),n("li",[n("p",[n("code",[t._v("RetentionPolicy.RUNTIME")]),t._v(" –标记的注释由JVM保留，因此可以由运行时环境使用。")])])]),t._v(" "),n("p",[n("strong",[t._v("@Documented")]),t._v(" "),n("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Documented.html",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("@Documented")]),n("OutboundLink")],1),t._v("注释表示，每当使用指定的注释时，都应使用Javadoc工具记录这些元素。（默认情况下，Javadoc中不包含注释。）有关更多信息，请参见 "),n("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/technotes/guides/javadoc/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Javadoc工具页面"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("p",[n("strong",[t._v("@Target")]),t._v(" "),n("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("@Target")]),n("OutboundLink")],1),t._v("批注标记了另一个批注，以限制该批注可以应用于哪种Java元素。目标注释将以下元素类型之一指定为其值：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("ElementType.ANNOTATION_TYPE")]),t._v(" 可以应用于注释类型。")]),t._v(" "),n("li",[n("code",[t._v("ElementType.CONSTRUCTOR")]),t._v(" 可以应用于构造函数。")]),t._v(" "),n("li",[n("code",[t._v("ElementType.FIELD")]),t._v(" 可以应用于字段或属性。")]),t._v(" "),n("li",[n("code",[t._v("ElementType.LOCAL_VARIABLE")]),t._v(" 可以应用于局部变量。")]),t._v(" "),n("li",[n("code",[t._v("ElementType.METHOD")]),t._v(" 可以应用于方法级注释。")]),t._v(" "),n("li",[n("code",[t._v("ElementType.PACKAGE")]),t._v(" 可以应用于包声明。")]),t._v(" "),n("li",[n("code",[t._v("ElementType.PARAMETER")]),t._v(" 可以应用于方法的参数。")]),t._v(" "),n("li",[n("code",[t._v("ElementType.TYPE")]),t._v(" 可以应用于类的任何元素。")]),t._v(" "),n("li")]),t._v(" "),n("p",[n("strong",[t._v("@Inherited")]),t._v(" "),n("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Inherited.html",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("@Inherited")]),n("OutboundLink")],1),t._v("注解表示可以从超类继承注解类型。（默认情况下，这是不正确的。）当用户查询注释类型并且类没有该类型的注释时，将查询该类的超类作为注释类型。该注释仅适用于类声明。")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Repeatable.html",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("@Repeatable")]),n("OutboundLink")],1),t._v("Java SE 8中引入的**@Repeatable**注释表示可以将标记的注释多次应用于同一声明或类型使用。有关更多信息，请参见 "),n("a",{attrs:{href:"https://docs.oracle.com/javase/tutorial/java/annotations/repeating.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("重复注释"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("h4",{attrs:{id:"类型注释和可插入类型系统"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#类型注释和可插入类型系统"}},[t._v("#")]),t._v(" 类型注释和可插入类型系统")]),t._v(" "),n("p",[t._v("在Java SE 8发行版之前，注释只能应用于声明。从Java SE 8发行版开始，注释也可以应用于任何"),n("em",[t._v("type use")]),t._v("。这意味着注释可以在使用类型的任何地方使用。使用类型的一些示例是类实例创建表达式（"),n("code",[t._v("new")]),t._v("），强制类型转换，"),n("code",[t._v("implements")]),t._v("子句和"),n("code",[t._v("throws")]),t._v("子句。这种形式的注释称为"),n("em",[t._v("类型注释")]),t._v("，“"),n("a",{attrs:{href:"https://docs.oracle.com/javase/tutorial/java/annotations/basics.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("注释基础”"),n("OutboundLink")],1),t._v("中提供了几个示例 。")]),t._v(" "),n("p",[t._v("创建类型注释以支持对Java程序的改进分析，以确保更强的类型检查。Java SE 8发行版不提供类型检查框架，但允许您编写（或下载）类型检查框架，该框架被实现为与Java编译器结合使用的一个或多个可插拔模块。")]),t._v(" "),n("p",[t._v("例如，您要确保程序中的特定变量永远不会被分配为null。您要避免触发"),n("code",[t._v("NullPointerException")]),t._v("。您可以编写一个自定义插件进行检查。然后，您将修改代码以注释该特定变量，指示该变量从未分配为null。变量声明可能如下所示：")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@NonNull")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" str"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("当您编译代码（包括"),n("code",[t._v("NonNull")]),t._v("命令行中的模块）时，如果编译器检测到潜在问题，则会打印一条警告，允许您修改代码以避免错误。您更正代码以删除所有警告后，程序运行时将不会发生此特定错误。")]),t._v(" "),n("p",[t._v("您可以使用多个类型检查模块，其中每个模块检查不同类型的错误。这样，您可以在Java类型系统之上构建，在需要的时间和位置添加特定的检查。")]),t._v(" "),n("p",[t._v("通过明智地使用类型注释和可插入类型检查器，您可以编写更强大且更不易出错的代码。")]),t._v(" "),n("p",[t._v("在许多情况下，您不必编写自己的类型检查模块。有第三方为您完成了工作。例如，您可能想利用华盛顿大学创建的Checker框架。该框架包括一个"),n("code",[t._v("NonNull")]),t._v("模块，一个正则表达式模块以及一个互斥锁模块。有关更多信息，请参见 "),n("a",{attrs:{href:"http://types.cs.washington.edu/checker-framework/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Checker Framework"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("h4",{attrs:{id:"重复注释"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重复注释"}},[t._v("#")]),t._v(" 重复注释")]),t._v(" "),n("p",[t._v("重复注视是javaSE 1.8后支持的特性；")]),t._v(" "),n("p",[t._v("使用规则：")]),t._v(" "),n("p",[t._v("​\tstep1: 注释类型必须标记为"),n("code",[t._v("@Repeatable")]),t._v("元注释。以下示例定义了一个自定义的"),n("code",[t._v("@Schedule")]),t._v("可重复注释类型：")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Repeatable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Repeatable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Schedules")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@interface")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Schedule")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("dayOfMonth")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"first"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("dayOfWeek")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Mon"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hour")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("​\tStep 2: 声明 Containing Annotation Type")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@interface")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Schedules")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Schedule")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("​\tReflection API（java反射api）中有几种可用的方法可用于检索注解。")]),t._v(" "),n("p",[t._v("​\t返回单个注释的方法的行为，例如 "),n("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AnnotatedElement.html#getAnnotation-java.lang.Class-",target:"_blank",rel:"noopener noreferrer"}},[t._v("AnnotatedElement.getAnnotation（Class ）"),n("OutboundLink")],1),t._v("，没有改变，因为它们仅在存在所请求类型的"),n("em",[t._v("一个")]),t._v("注释时才返回单个注释。")]),t._v(" "),n("p",[t._v("​\t如果存在多个所请求类型的注释，则可以通过首先获取其容器注释来获取它们。这样，旧代码将继续起作用。Java SE 8中引入了其他方法，这些方法可扫描容器注释以一次返回多个注释，例如 "),n("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AnnotatedElement.html#getAnnotationsByType-java.lang.Class-",target:"_blank",rel:"noopener noreferrer"}},[t._v("AnnotatedElement.getAnnotationsByType（Class ）"),n("OutboundLink")],1),t._v("。参见 "),n("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AnnotatedElement.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("AnnotatedElement"),n("OutboundLink")],1),t._v(" 有关所有可用方法的信息的类规范。")]),t._v(" "),n("h4",{attrs:{id:"总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),n("p",[t._v("​   注释（annotations）：Java 从1.5开始提供了 Annotation （注释，标注），它用来修饰应用程序的元素（类，方法，参数，本地变量，包、元数据），编译器将其与元数据一同存储在 class 文件中，\n运行期间通过 Java 的反射来处理对其修饰元素的访问。Annotation 仅仅用来修饰元素，而不能影响代码的执行。只有通过其配套的框架或工具才能对其信息进行访问和处理。")]),t._v(" "),n("p",[t._v("而@interface 是用来修饰 Annotation 的，请注意，它不是 interface。这个关键字声明隐含了一个信息：它是继承了 java.lang.annotation.Annotation 接口，而不是声明了一个 interface。")])])}),[],!1,null,null,null);a.default=e.exports}}]);